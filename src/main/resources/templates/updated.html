<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>Edit Tutorials</title>
    <style>
        .error{
            color: red;
        }
    </style>
</head>
<body>
<div align="center">
    <h1>Edit Tutorial</h1>
    <br/>
<!--    <div class="modal fade border-box" id="registration" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">-->
<!--        <div class="modal-dialog" role="document">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-body">-->
<!--                    <h3 class="modal-title">Merci !</h3>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

    <form name="ajaxform" id="ajaxform" th:action="@{/api/save}" th:object="${tutorialData}"
          method="post">

        <table border="0" cellpadding="10">
            <tr th:if="${tutorialData.id == null}" style="display: none" :style="display: block">
                <td>ID:</td>
                <td><input type="text" th:field="*{id}" readonly/></td>
            </tr>
            <tr>
                <td>Description:</td>
                <td><input type="text" th:field="*{description}" required="required"/></td>
                <td th:if="${#fields.hasErrors('description')}" th:errors="*{description}">description Error</td>
            </tr>
            <tr>
                <td>Published:</td>
                <td>
                    <input type="radio" id="true" th:field="*{published}" value="true">
                    <label for="true">True</label>
                    <input type="radio" id="false" th:field="*{published}" value="false">
                    <label for="false">False</label>
                </td>
            </tr>
            <tr>
                <td>Title:</td>
                <td><input type="text" th:field="*{title}" required="required"/></td>
                <td th:if="${#fields.hasErrors('title')}" th:errors="*{title}"th:errorclass="error">title Error</td>
            </tr>
            <tr>
                <td>Email:</td>
                <td><input type="text" th:field="*{email}" required="required"/></td>
                <td th:if="${#fields.hasErrors('email')}" th:errors="*{email}"th:errorclass="error">email Error</td>
            </tr>
            <tr>
                <td colspan="2">
                    <button type="submit" id="test">Save</button>
                </td>
            </tr>
        </table>
    </form>
</div>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        $("#ajaxform").submit(function (e) {-->

<!--            var url = "/api/save"; // the script where you handle the form input.-->

<!--            $.ajax({-->
<!--                type: "POST",-->
<!--                url: url,-->
<!--                data: $("#ajaxform").serialize(), // serializes the form's elements.-->
<!--                success: function (data) {-->
<!--                    //if request successful-->
<!--                    $(".modal-title").text('Request successful');-->
<!--                    $('#registration').modal('show');-->
<!--                },-->
<!--                error: function (data) {-->
<!--                    //if request unsuccessful-->
<!--                    $(".modal-title").text('Request failed');-->
<!--                    $('#registration').modal('show');-->
<!--                }-->
<!--            }).done(function () {-->
<!--                //finally, reinitialise modal text back to default 'merci'-->
<!--                $(".modal-title").text('merci');-->
<!--            });-->

<!--            e.preventDefault(); // avoid to execute the actual submit of the form.-->
<!--        });-->
<!--    })-->
<!--</script>-->